
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/site.webmanifest">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
{{ partial "meta" . }}
<script>
    // On page load or when changing themes, best to add inline in `head` to avoid FOUC
    if (localStorage.getItem('color-theme') === 'dark' || (!('color-theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        document.documentElement.classList.add('dark');
    } else {
        document.documentElement.classList.remove('dark')
    }
</script>

<!-- Process all CSS files just once -->
{{ $style := resources.Get "css/style.css" | css.PostCSS }}
{{ $mainStyle := resources.Get "css/main.css" | css.PostCSS }}

<!-- Remove test.css and CDN as they're causing conflicts -->
<!-- {{ $testStyle := resources.Get "css/test.css" | css.PostCSS }} -->

<!-- Main Tailwind stylesheet first -->
{{ if hugo.IsProduction }}
  {{ $style = $style | minify | fingerprint }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}" integrity="{{ $style.Data.Integrity }}" crossorigin="anonymous">
{{ else }}
  <link rel="stylesheet" href="{{ $style.RelPermalink }}">
{{ end }}

<!-- Custom CSS loaded AFTER Tailwind -->
<link rel="stylesheet" href="{{ $mainStyle.RelPermalink }}">

<!-- Remove redundant stylesheets -->
<!-- <link rel="stylesheet" href="{{ $testStyle.RelPermalink }}"> -->
<!-- <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet"> -->

<!-- Minimal fallback styles for critical elements only -->
<style>
  /* Only include minimal fallback styles for truly critical elements */
  body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
  }
  .bg-navy { background-color: #0A1F44 !important; color: white !important; }
  .text-gold { color: #f59e0b !important; }
  .bg-gold { background-color: #f59e0b !important; }
</style>
